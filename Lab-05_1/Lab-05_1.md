---
title: Lab-05_1

---

# Lab 05_1
## 圖書館資料庫設計
## 函數相依性分析（FD）:
>ISBN → 書名, 出版年份, 書籍類別, 出版社名稱
出版社名稱 → 出版社地址
ISBN →→ 作者（多值相依，需拆出書籍-作者關聯表）
會員卡號 → 會員姓名, 會員地址, 會員電話, 會員Email
(會員卡號, ISBN, 借閱日期) → 應還日期, 實際歸還日期

### 1NF:
> 消除重複群組與多值屬性（多位作者 → 拆分）

| ISBN          | 書名      | 作者 | 出版社名稱 | 出版社地址      | 出版年份 | 類別  | 會員卡號 | 會員姓名 | 會員地址    | 電話         | Email                                       | 借閱日期       | 應還日期       | 實際歸還日期     |
| ------------- | ------- | -- | ----- | ---------- | ---- | --- | ---- | ---- | ------- | ---------- | ------------------------------------------- | ---------- | ---------- | ---------- |
| 9781234567890 | 資料庫系統入門 | 張三 | 智慧出版  | 台北市大安區123號 | 2023 | 資訊類 | M001 | 王小明  | 台中市南區1號 | 0912123456 | [ming@example.com](mailto:ming@example.com) | 2024-01-01 | 2024-01-15 | 2024-01-13 |
| 9781234567890 | 資料庫系統入門 | 李四 | 智慧出版  | 台北市大安區123號 | 2023 | 資訊類 | M001 | 王小明  | 台中市南區1號 | 0912123456 | [ming@example.com](mailto:ming@example.com) | 2024-01-01 | 2024-01-15 | 2024-01-13 |

### 2NF:
> 消除對主鍵的部分相依（針對複合主鍵進行拆分）
* Book

    | ISBN          | 書名      | 出版社名稱 | 出版年份 | 類別  |
    | ------------- | ------- | ----- | ---- | --- |
    | 9781234567890 | 資料庫系統入門 | 智慧出版  | 2023 | 資訊類 |

* BookAuthor

    | ISBN          | 作者 |
    | ------------- | -- |
    | 9781234567890 | 張三 |
    | 9781234567890 | 李四 |
    
* Publisher

    | 出版社名稱 | 出版社地址      |
    | ----- | ---------- |
    | 智慧出版  | 台北市大安區123號 |
    
* Member

    | 會員卡號 | 會員姓名 | 會員地址    | 電話         | Email                                       |
    | ---- | ---- | ------- | ---------- | ------------------------------------------- |
    | M001 | 王小明  | 台中市南區1號 | 0912123456 | [ming@example.com](mailto:ming@example.com) |

* BorrowRecord

    | 會員卡號 | 會員姓名 | 會員地址    | 電話         | Email                                       |
    | ---- | ---- | ------- | ---------- | ------------------------------------------- |
    | M001 | 王小明  | 台中市南區1號 | 0912123456 | [ming@example.com](mailto:ming@example.com) |

### 3NF:
> 消除非主鍵欄位間的傳遞相依。
Books 中：出版社名稱 → 出版社地址（違反 3NF）
解決方式：出版社獨立為 Publishers 表（已在 1NF 拆分）

BorrowRecords 中不應重複書名與會員姓名（移除，透過關聯抓即可）
* Books（書籍資訊）

    | ISBN          | 書名       | 出版社名稱 | 出版年份 | 書籍類別 |
    | ------------- | -------- | ----- | ---- | ---- |
    | 9789863123456 | 資料庫系統入門  | 智慧出版  | 2023 | 資訊類  |
    | 9789579876543 | Java程式設計 | 創科圖書  | 2022 | 程式語言 |
    
* BookAuthors（多作者對應）

    | ISBN          | 作者姓名 |
    | ------------- | ---- |
    | 9789863123456 | 張三   |
    | 9789863123456 | 李四   |
    | 9789579876543 | 陳大明  |
    
* Publishers（出版社）

    | 出版社名稱 | 出版社地址      |
    | ----- | ---------- |
    | 智慧出版  | 台北市大安區123號 |
    | 創科圖書  | 新北市板橋區456號 |

* Members（會員資訊）

    | 會員卡號 | 會員姓名 | 會員地址   | 會員電話       | 會員Email                                     |
    | ---- | ---- | ------ | ---------- | ------------------------------------------- |
    | M001 | 王小明  | 台中市南區  | 0912345678 | [ming@mail.com](mailto:ming@mail.com)       |
    | M002 | 陳小華  | 台北市信義區 | 0922333444 | [chenhua@mail.com](mailto:chenhua@mail.com) |

* BorrowRecords（借閱紀錄）

    | 借閱編號  | 會員卡號 | ISBN          | 借閱日期       | 應還日期       | 實際歸還日期     |
    | ----- | ---- | ------------- | ---------- | ---------- | ---------- |
    | BR001 | M001 | 9789863123456 | 2024-01-01 | 2024-01-15 | 2024-01-13 |
    | BR002 | M002 | 9789579876543 | 2024-02-05 | 2024-02-19 | 2024-02-20 |

### ER圖:
![image](https://github.com/CHENGXee/lab_5/blob/main/Lab-05_1/image_1.png)


